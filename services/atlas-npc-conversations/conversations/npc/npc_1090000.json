{
  "npcId": 1090000,
  "startState": "startRoute",
  "states": [
    {
      "id": "startRoute",
      "type": "genericAction",
      "genericAction": {
        "operations": [],
        "outcomes": [
          {"conditions": [{"type": "questStatus", "operator": "=", "value": "2", "referenceId": "6330"}], "nextState": "check4thJobBuccaneer"},
          {"conditions": [{"type": "questStatus", "operator": "=", "value": "2", "referenceId": "6370"}], "nextState": "check4thJobCorsair"},
          {"conditions": [{"type": "jobId", "operator": "=", "value": "0"}], "nextState": "firstJobIntro"},
          {"conditions": [{"type": "jobId", "operator": "=", "value": "500"}, {"type": "level", "operator": ">=", "value": "30"}], "nextState": "secondJobCheckQuests"},
          {"conditions": [{"type": "questStatus", "operator": "=", "value": "2", "referenceId": "100009"}, {"type": "level", "operator": ">=", "value": "70"}, {"type": "jobId", "operator": "=", "value": "510"}], "nextState": "check3rdJobPhase"},
          {"conditions": [{"type": "questStatus", "operator": "=", "value": "2", "referenceId": "100009"}, {"type": "level", "operator": ">=", "value": "70"}, {"type": "jobId", "operator": "=", "value": "520"}], "nextState": "check3rdJobPhase"},
          {"conditions": [{"type": "questStatus", "operator": "=", "value": "2", "referenceId": "100011"}, {"type": "item", "operator": ">=", "value": "1", "referenceId": "4031059"}], "nextState": "thirdJobCompleteIntro"},
          {"conditions": [{"type": "questStatus", "operator": "=", "value": "2", "referenceId": "100011"}], "nextState": "thirdJobNeedNecklace"},
          {"conditions": [], "nextState": "defaultMessage"}
        ]
      }
    },

    {
      "id": "check4thJobBuccaneer",
      "type": "genericAction",
      "genericAction": {
        "operations": [],
        "outcomes": [
          {"conditions": [{"type": "mapId", "operator": "=", "value": "912010000"}], "nextState": "buccaneerInInstance"},
          {"conditions": [{"type": "questProgress", "operator": "=", "value": "0", "referenceId": "6330", "step": "6331"}], "nextState": "buccaneerStartTest"},
          {"conditions": [], "nextState": "buccaneerCompleteActions"}
        ]
      }
    },
    {
      "id": "buccaneerInInstance",
      "type": "dialogue",
      "dialogue": {
        "dialogueType": "sendNext",
        "text": "Not bad at all. Let's discuss this outside!",
        "choices": [
          {"text": "Next", "nextState": "buccaneerExitInstance"},
          {"text": "Exit", "nextState": null}
        ]
      }
    },
    {
      "id": "buccaneerExitInstance",
      "type": "genericAction",
      "genericAction": {
        "operations": [
          {"type": "set_quest_progress", "params": {"questId": "6330", "infoNumber": "6331", "progress": "2"}},
          {"type": "warp_to_map", "params": {"mapId": "120000101", "portalId": "0"}}
        ],
        "outcomes": [
          {"conditions": [], "nextState": null}
        ]
      }
    },
    {
      "id": "buccaneerStartTest",
      "type": "dialogue",
      "dialogue": {
        "dialogueType": "sendNext",
        "text": "You're ready, right? Now try to withstand my attacks for 2 minutes. I won't go easy on you. Good luck, because you will need it.",
        "choices": [
          {"text": "Next", "nextState": "buccaneerCheckTestMap"},
          {"text": "Exit", "nextState": null}
        ]
      }
    },
    {
      "id": "buccaneerCheckTestMap",
      "type": "genericAction",
      "genericAction": {
        "operations": [],
        "outcomes": [
          {"conditions": [{"type": "mapCapacity", "operator": ">", "value": "0", "referenceId": "912010000"}], "nextState": "buccaneerTestOccupied"},
          {"conditions": [], "nextState": "buccaneerWarpToTest"}
        ]
      }
    },
    {
      "id": "buccaneerTestOccupied",
      "type": "dialogue",
      "dialogue": {
        "dialogueType": "sendOk",
        "text": "Someone is already challenging the test. Please try again later.",
        "choices": [
          {"text": "Ok", "nextState": null},
          {"text": "Exit", "nextState": null}
        ]
      }
    },
    {
      "id": "buccaneerWarpToTest",
      "type": "genericAction",
      "genericAction": {
        "operations": [
          {"type": "warp_to_map", "params": {"mapId": "912010000", "portalId": "0"}}
        ],
        "outcomes": [
          {"conditions": [], "nextState": null}
        ]
      }
    },
    {
      "id": "buccaneerCompleteActions",
      "type": "genericAction",
      "genericAction": {
        "operations": [
          {"type": "create_skill", "params": {"skillId": "5121003", "level": "0", "masterLevel": "10"}},
          {"type": "complete_quest", "params": {"questId": "6330", "force": "true"}}
        ],
        "outcomes": [
          {"conditions": [], "nextState": "buccaneerCongrats"}
        ]
      }
    },
    {
      "id": "buccaneerCongrats",
      "type": "dialogue",
      "dialogue": {
        "dialogueType": "sendNext",
        "text": "Congratulations. You have managed to pass my test. I'll teach you a new skill called \"Super Transformation\".\r\n\r\n  #s5121003#    #b#q5121003##k",
        "choices": [
          {"text": "Next", "nextState": "buccaneerFollowup"},
          {"text": "Exit", "nextState": null}
        ]
      }
    },
    {
      "id": "buccaneerFollowup",
      "type": "dialogue",
      "dialogue": {
        "dialogueType": "sendOk",
        "text": "It is similar to that of 'Transformation', but it's much more powerful than that. Keep training, and hope to see you around.",
        "choices": [
          {"text": "Ok", "nextState": null},
          {"text": "Exit", "nextState": null}
        ]
      }
    },

    {
      "id": "check4thJobCorsair",
      "type": "genericAction",
      "genericAction": {
        "operations": [],
        "outcomes": [
          {"conditions": [{"type": "mapId", "operator": "=", "value": "912010100"}], "nextState": "corsairInInstance"},
          {"conditions": [{"type": "questProgress", "operator": "=", "value": "0", "referenceId": "6370", "step": "6371"}], "nextState": "corsairStartTest"},
          {"conditions": [], "nextState": "corsairCompleteActions"}
        ]
      }
    },
    {
      "id": "corsairInInstance",
      "type": "dialogue",
      "dialogue": {
        "dialogueType": "sendNext",
        "text": "Not bad at all. Let's discuss this outside!",
        "choices": [
          {"text": "Next", "nextState": "corsairExitInstance"},
          {"text": "Exit", "nextState": null}
        ]
      }
    },
    {
      "id": "corsairExitInstance",
      "type": "genericAction",
      "genericAction": {
        "operations": [
          {"type": "set_quest_progress", "params": {"questId": "6370", "infoNumber": "6371", "progress": "2"}},
          {"type": "warp_to_map", "params": {"mapId": "120000101", "portalId": "0"}}
        ],
        "outcomes": [
          {"conditions": [], "nextState": null}
        ]
      }
    },
    {
      "id": "corsairStartTest",
      "type": "dialogue",
      "dialogue": {
        "dialogueType": "sendNext",
        "text": "You're ready, right? Now try to withstand my attacks for 2 minutes. I won't go easy on you. Good luck, because you will need it.",
        "choices": [
          {"text": "Next", "nextState": "corsairCheckTestMap"},
          {"text": "Exit", "nextState": null}
        ]
      }
    },
    {
      "id": "corsairCheckTestMap",
      "type": "genericAction",
      "genericAction": {
        "operations": [],
        "outcomes": [
          {"conditions": [{"type": "mapCapacity", "operator": ">", "value": "0", "referenceId": "912010100"}], "nextState": "corsairTestOccupied"},
          {"conditions": [], "nextState": "corsairWarpToTest"}
        ]
      }
    },
    {
      "id": "corsairTestOccupied",
      "type": "dialogue",
      "dialogue": {
        "dialogueType": "sendOk",
        "text": "Someone is already challenging the test. Please try again later.",
        "choices": [
          {"text": "Ok", "nextState": null},
          {"text": "Exit", "nextState": null}
        ]
      }
    },
    {
      "id": "corsairWarpToTest",
      "type": "genericAction",
      "genericAction": {
        "operations": [
          {"type": "warp_to_map", "params": {"mapId": "912010100", "portalId": "0"}}
        ],
        "outcomes": [
          {"conditions": [], "nextState": null}
        ]
      }
    },
    {
      "id": "corsairCompleteActions",
      "type": "genericAction",
      "genericAction": {
        "operations": [
          {"type": "create_skill", "params": {"skillId": "5221006", "level": "0", "masterLevel": "10"}},
          {"type": "complete_quest", "params": {"questId": "6370", "force": "true"}}
        ],
        "outcomes": [
          {"conditions": [], "nextState": "corsairCongrats"}
        ]
      }
    },
    {
      "id": "corsairCongrats",
      "type": "dialogue",
      "dialogue": {
        "dialogueType": "sendNext",
        "text": "Congratulations. You have managed to pass my test. I'll teach you a new skill called \"Battleship\".\r\n\r\n  #s5221006#    #b#q5221006##k",
        "choices": [
          {"text": "Next", "nextState": "corsairFollowup"},
          {"text": "Exit", "nextState": null}
        ]
      }
    },
    {
      "id": "corsairFollowup",
      "type": "dialogue",
      "dialogue": {
        "dialogueType": "sendOk",
        "text": "Unlike most of the other skills you used as a Pirate, this one definitely is different. You can actually ride the 'Battleship' and attack enemies with it. Your DEF level will increase for the time you're on board, so that'll help you tremendously in combat situations. May you become the best Gunslinger out there...",
        "choices": [
          {"text": "Ok", "nextState": null},
          {"text": "Exit", "nextState": null}
        ]
      }
    },

    {
      "id": "firstJobIntro",
      "type": "dialogue",
      "dialogue": {
        "dialogueType": "sendNext",
        "text": "Want to be a #rpirate#k? There are some standards to meet. because we can't just accept EVERYONE in... #bYour level should be at least 10, with at least 20 DEX minimum#k. Let's see.",
        "choices": [
          {"text": "Next", "nextState": "firstJobCheckReqs"},
          {"text": "Exit", "nextState": null}
        ]
      }
    },
    {
      "id": "firstJobCheckReqs",
      "type": "genericAction",
      "genericAction": {
        "operations": [],
        "outcomes": [
          {"conditions": [{"type": "level", "operator": ">=", "value": "10"}, {"type": "dexterity", "operator": ">=", "value": "20"}], "nextState": "firstJobOffer"},
          {"conditions": [], "nextState": "firstJobNotReady"}
        ]
      }
    },
    {
      "id": "firstJobOffer",
      "type": "dialogue",
      "dialogue": {
        "dialogueType": "sendYesNo",
        "text": "Oh...! You look like someone that can definitely be a part of us... all you need is a little slang, and... yeah... so, what do you think? Wanna be the Pirate?",
        "choices": [
          {"text": "Yes", "nextState": "firstJobCheckSpace"},
          {"text": "No", "nextState": null},
          {"text": "Exit", "nextState": null}
        ]
      }
    },
    {
      "id": "firstJobNotReady",
      "type": "dialogue",
      "dialogue": {
        "dialogueType": "sendOk",
        "text": "Train a bit more until you reach the base requirements and I can show you the way of the #rPirate#k.",
        "choices": [
          {"text": "Ok", "nextState": null},
          {"text": "Exit", "nextState": null}
        ]
      }
    },
    {
      "id": "firstJobCheckSpace",
      "type": "genericAction",
      "genericAction": {
        "operations": [],
        "outcomes": [
          {"conditions": [{"type": "inventorySpace", "operator": ">=", "value": "1", "referenceId": "2070000"}, {"type": "inventorySpace", "operator": ">=", "value": "1", "referenceId": "1482000"}, {"type": "inventorySpace", "operator": ">=", "value": "1", "referenceId": "1492000"}], "nextState": "firstJobPerformAdvance"},
          {"conditions": [], "nextState": "firstJobNoSpace"}
        ]
      }
    },
    {
      "id": "firstJobNoSpace",
      "type": "dialogue",
      "dialogue": {
        "dialogueType": "sendNext",
        "text": "Make some room in your inventory and talk back to me.",
        "choices": [
          {"text": "Next", "nextState": null},
          {"text": "Exit", "nextState": null}
        ]
      }
    },
    {
      "id": "firstJobPerformAdvance",
      "type": "genericAction",
      "genericAction": {
        "operations": [
          {"type": "change_job", "params": {"jobId": "500"}},
          {"type": "award_item", "params": {"itemId": "1492000", "quantity": "1"}},
          {"type": "award_item", "params": {"itemId": "1482000", "quantity": "1"}},
          {"type": "award_item", "params": {"itemId": "2330000", "quantity": "1000"}},
          {"type": "reset_stats"}
        ],
        "outcomes": [
          {"conditions": [], "nextState": "firstJobMsg1"}
        ]
      }
    },
    {
      "id": "firstJobMsg1",
      "type": "dialogue",
      "dialogue": {
        "dialogueType": "sendNext",
        "text": "Alright, from here out, you are a part of us! You'll be living the life of a wanderer at ..., but just be patient as soon, you'll be living the high life. Alright, it ain't much, but I'll give you some of my abilities... HAAAHHH!!!",
        "choices": [
          {"text": "Next", "nextState": "firstJobMsg2"},
          {"text": "Exit", "nextState": null}
        ]
      }
    },
    {
      "id": "firstJobMsg2",
      "type": "dialogue",
      "dialogue": {
        "dialogueType": "sendNextPrev",
        "text": "You've gotten much stronger now. Plus every single one of your inventories have added slots. A whole row, to be exact. Go see for it yourself. I just gave you a little bit of #bSP#k. When you open up the #bSkill#k menu on the lower left corner of the screen, there are skills you can learn by using SP's. One warning, though: You can't raise it all together all at once. There are also skills you can acquire only after having learned a couple of skills first.",
        "choices": [
          {"text": "Previous", "nextState": "firstJobMsg1"},
          {"text": "Next", "nextState": "firstJobMsg3"},
          {"text": "Exit", "nextState": null}
        ]
      }
    },
    {
      "id": "firstJobMsg3",
      "type": "dialogue",
      "dialogue": {
        "dialogueType": "sendNextPrev",
        "text": "Now a reminder. Once you have chosen, you cannot change up your mind and try to pick another path. Go now, and live as a proud Pirate.",
        "choices": [
          {"text": "Previous", "nextState": "firstJobMsg2"},
          {"text": "Next", "nextState": null},
          {"text": "Exit", "nextState": null}
        ]
      }
    },

    {
      "id": "secondJobCheckQuests",
      "type": "genericAction",
      "genericAction": {
        "operations": [],
        "outcomes": [
          {"conditions": [{"type": "questStatus", "operator": "=", "value": "3", "referenceId": "2191"}], "nextState": "secondJobDoneIntro"},
          {"conditions": [{"type": "questStatus", "operator": "=", "value": "3", "referenceId": "2192"}], "nextState": "secondJobDoneIntro"},
          {"conditions": [], "nextState": "secondJobTestIntro"}
        ]
      }
    },

    {
      "id": "secondJobDoneIntro",
      "type": "dialogue",
      "dialogue": {
        "dialogueType": "sendNext",
        "text": "I see you have done well. I will allow you to take the next step on your long road.",
        "choices": [
          {"text": "Next", "nextState": "secondJobDoneList"},
          {"text": "Exit", "nextState": null}
        ]
      }
    },
    {
      "id": "secondJobDoneList",
      "type": "listSelection",
      "listSelection": {
        "title": "Alright, when you have made your decision, click on [I'll choose my occupation] at the bottom.",
        "choices": [
          {"text": "Please explain to me what being the Brawler is all about.", "nextState": "secondJobBrawlerInfo"},
          {"text": "Please explain to me what being the Gunslinger is all about.", "nextState": "secondJobGunslingerInfo"},
          {"text": "I'll choose my occupation!", "nextState": "secondJobChooseOccupation"},
          {"text": "Exit", "nextState": null}
        ]
      }
    },
    {
      "id": "secondJobBrawlerInfo",
      "type": "dialogue",
      "dialogue": {
        "dialogueType": "sendNext",
        "text": "Pirates that master #rKnuckles#k.\r\n\r\n#bBrawlers#k are melee, close-ranged fist fighters who deal lots of damage and have high HP. Armed with #rCorkscrew Blow#k, one can deal massive damage to multiple targets at once. #rOak Barrel#k permits one to scout or disguise themselves in middle of difficult fights, enabling a possible escaping route in front of danger.",
        "choices": [
          {"text": "Next", "nextState": "secondJobDoneList"},
          {"text": "Exit", "nextState": null}
        ]
      }
    },
    {
      "id": "secondJobGunslingerInfo",
      "type": "dialogue",
      "dialogue": {
        "dialogueType": "sendNext",
        "text": "Pirates that master #rGuns#k.\r\n\r\n#bGunslingers#k are faster and ranged attackers. With the #rWings#k skill, Gunslingers can hover in the air, allowing for a longer, more sustained jump than a regular jump. #rBlank Shot#k allows to deal Stun status to multiple targets nearby.",
        "choices": [
          {"text": "Next", "nextState": "secondJobDoneList"},
          {"text": "Exit", "nextState": null}
        ]
      }
    },
    {
      "id": "secondJobChooseOccupation",
      "type": "dialogue",
      "dialogue": {
        "dialogueType": "sendNextPrev",
        "text": "You have a long road ahead of you still, but being a pirate will help you get there. Just keep that in mind and you will do fine.",
        "choices": [
          {"text": "Previous", "nextState": "secondJobDoneList"},
          {"text": "Next", "nextState": "secondJobDetermineJob"},
          {"text": "Exit", "nextState": null}
        ]
      }
    },
    {
      "id": "secondJobDetermineJob",
      "type": "genericAction",
      "genericAction": {
        "operations": [],
        "outcomes": [
          {"conditions": [{"type": "questStatus", "operator": "=", "value": "3", "referenceId": "2191"}], "nextState": "secondJobConfirmBrawler"},
          {"conditions": [{"type": "questStatus", "operator": "=", "value": "3", "referenceId": "2192"}], "nextState": "secondJobConfirmGunslinger"},
          {"conditions": [], "nextState": "defaultMessage"}
        ]
      }
    },
    {
      "id": "secondJobConfirmBrawler",
      "type": "dialogue",
      "dialogue": {
        "dialogueType": "sendYesNo",
        "text": "So you want to make the second job advancement as the #bBrawler#k? You know you won't be able to choose a different job for the 2nd job advancement once you make your decision here, right?",
        "choices": [
          {"text": "Yes", "nextState": "secondJobAdvanceBrawlerCheck"},
          {"text": "No", "nextState": null},
          {"text": "Exit", "nextState": null}
        ]
      }
    },
    {
      "id": "secondJobConfirmGunslinger",
      "type": "dialogue",
      "dialogue": {
        "dialogueType": "sendYesNo",
        "text": "So you want to make the second job advancement as the #bGunslinger#k? You know you won't be able to choose a different job for the 2nd job advancement once you make your decision here, right?",
        "choices": [
          {"text": "Yes", "nextState": "secondJobAdvanceGunslingerCheck"},
          {"text": "No", "nextState": null},
          {"text": "Exit", "nextState": null}
        ]
      }
    },

    {
      "id": "secondJobTestIntro",
      "type": "dialogue",
      "dialogue": {
        "dialogueType": "sendNext",
        "text": "The progress you have made is astonishing.",
        "choices": [
          {"text": "Next", "nextState": "secondJobTestMsg"},
          {"text": "Exit", "nextState": null}
        ]
      }
    },
    {
      "id": "secondJobTestMsg",
      "type": "dialogue",
      "dialogue": {
        "dialogueType": "sendNext",
        "text": "Good decision. You look strong, but I need to see if you really are strong enough to pass the test, it's not a difficult test, so you'll do just fine.",
        "choices": [
          {"text": "Next", "nextState": "secondJobTestOffer"},
          {"text": "Exit", "nextState": null}
        ]
      }
    },
    {
      "id": "secondJobTestOffer",
      "type": "dialogue",
      "dialogue": {
        "dialogueType": "sendYesNo",
        "text": "Would you like to take the test now?",
        "choices": [
          {"text": "Yes", "nextState": "secondJobTestCheckQuest"},
          {"text": "No", "nextState": "secondJobDeclineTest"},
          {"text": "Exit", "nextState": null}
        ]
      }
    },
    {
      "id": "secondJobDeclineTest",
      "type": "dialogue",
      "dialogue": {
        "dialogueType": "sendOk",
        "text": "You know there is no other choice...",
        "choices": [
          {"text": "Ok", "nextState": null},
          {"text": "Exit", "nextState": null}
        ]
      }
    },
    {
      "id": "secondJobTestCheckQuest",
      "type": "genericAction",
      "genericAction": {
        "operations": [],
        "outcomes": [
          {"conditions": [{"type": "questStatus", "operator": "=", "value": "2", "referenceId": "2191"}], "nextState": "secondJobTestCheckMap502"},
          {"conditions": [], "nextState": "secondJobTestCheckMap501"}
        ]
      }
    },
    {
      "id": "secondJobTestCheckMap502",
      "type": "genericAction",
      "genericAction": {
        "operations": [],
        "outcomes": [
          {"conditions": [{"type": "mapCapacity", "operator": ">", "value": "0", "referenceId": "108000502"}], "nextState": "secondJobTestOccupied"},
          {"conditions": [], "nextState": "secondJobWarpTest502"}
        ]
      }
    },
    {
      "id": "secondJobTestCheckMap501",
      "type": "genericAction",
      "genericAction": {
        "operations": [],
        "outcomes": [
          {"conditions": [{"type": "mapCapacity", "operator": ">", "value": "0", "referenceId": "108000501"}], "nextState": "secondJobTestOccupied"},
          {"conditions": [], "nextState": "secondJobWarpTest501"}
        ]
      }
    },
    {
      "id": "secondJobTestOccupied",
      "type": "dialogue",
      "dialogue": {
        "dialogueType": "sendOk",
        "text": "All the training maps are currently in use. Please try again later.",
        "choices": [
          {"text": "Ok", "nextState": null},
          {"text": "Exit", "nextState": null}
        ]
      }
    },
    {
      "id": "secondJobWarpTest502",
      "type": "genericAction",
      "genericAction": {
        "operations": [
          {"type": "warp_to_map", "params": {"mapId": "108000502", "portalId": "0"}}
        ],
        "outcomes": [
          {"conditions": [], "nextState": null}
        ]
      }
    },
    {
      "id": "secondJobWarpTest501",
      "type": "genericAction",
      "genericAction": {
        "operations": [
          {"type": "warp_to_map", "params": {"mapId": "108000501", "portalId": "0"}}
        ],
        "outcomes": [
          {"conditions": [], "nextState": null}
        ]
      }
    },

    {
      "id": "secondJobAdvanceBrawlerCheck",
      "type": "genericAction",
      "genericAction": {
        "operations": [],
        "outcomes": [
          {"conditions": [{"type": "item", "operator": ">=", "value": "1", "referenceId": "4031012"}], "nextState": "secondJobBrawlerRemoveAndChange"},
          {"conditions": [], "nextState": "secondJobBrawlerChangeOnly"}
        ]
      }
    },
    {
      "id": "secondJobBrawlerRemoveAndChange",
      "type": "genericAction",
      "genericAction": {
        "operations": [
          {"type": "destroy_item", "params": {"itemId": "4031012", "quantity": "1"}},
          {"type": "change_job", "params": {"jobId": "510"}}
        ],
        "outcomes": [
          {"conditions": [], "nextState": "secondJobBrawlerWelcome"}
        ]
      }
    },
    {
      "id": "secondJobBrawlerChangeOnly",
      "type": "genericAction",
      "genericAction": {
        "operations": [
          {"type": "change_job", "params": {"jobId": "510"}}
        ],
        "outcomes": [
          {"conditions": [], "nextState": "secondJobBrawlerWelcome"}
        ]
      }
    },
    {
      "id": "secondJobBrawlerWelcome",
      "type": "dialogue",
      "dialogue": {
        "dialogueType": "sendNext",
        "text": "From here on out, you are a #bBrawler#k. Brawlers rule the world with the power of their bare fists...which means they need to train their body more than others. If you have any trouble training, I'll be more than happy to help.",
        "choices": [
          {"text": "Next", "nextState": "secondJobBrawlerSkills"},
          {"text": "Exit", "nextState": null}
        ]
      }
    },
    {
      "id": "secondJobBrawlerSkills",
      "type": "dialogue",
      "dialogue": {
        "dialogueType": "sendNextPrev",
        "text": "I have just given you a book that gives you the list of skills you can acquire as a brawler. Also your etc inventory has expanded by adding another row to it. Your max HP and MP have increased, too. Go check and see for it yourself.",
        "choices": [
          {"text": "Previous", "nextState": "secondJobBrawlerWelcome"},
          {"text": "Next", "nextState": "secondJobBrawlerSP"},
          {"text": "Exit", "nextState": null}
        ]
      }
    },
    {
      "id": "secondJobBrawlerSP",
      "type": "dialogue",
      "dialogue": {
        "dialogueType": "sendNextPrev",
        "text": "I have also given you a little bit of #bSP#k. Open the #bSkill Menu#k located at the bottom left corner. you'll be able to boost up the newer acquired 2nd level skills. A word of warning, though. You can't boost them up all at once. Some of the skills are only available after you have learned other skills. Make sure yo remember that.",
        "choices": [
          {"text": "Previous", "nextState": "secondJobBrawlerSkills"},
          {"text": "Next", "nextState": "secondJobBrawlerFinal"},
          {"text": "Exit", "nextState": null}
        ]
      }
    },
    {
      "id": "secondJobBrawlerFinal",
      "type": "dialogue",
      "dialogue": {
        "dialogueType": "sendNextPrev",
        "text": "Brawlers need to be strong. But remember that you can't abuse that power and use it on a weakling. Please use your enormous power the right way, because... for you to use that the right way, that is much harden than just getting stronger. Please find me after you have advanced much further. I'll be waiting for you.",
        "choices": [
          {"text": "Previous", "nextState": "secondJobBrawlerSP"},
          {"text": "Next", "nextState": null},
          {"text": "Exit", "nextState": null}
        ]
      }
    },

    {
      "id": "secondJobAdvanceGunslingerCheck",
      "type": "genericAction",
      "genericAction": {
        "operations": [],
        "outcomes": [
          {"conditions": [{"type": "item", "operator": ">=", "value": "1", "referenceId": "4031012"}], "nextState": "secondJobGunslingerRemoveAndChange"},
          {"conditions": [], "nextState": "secondJobGunslingerChangeOnly"}
        ]
      }
    },
    {
      "id": "secondJobGunslingerRemoveAndChange",
      "type": "genericAction",
      "genericAction": {
        "operations": [
          {"type": "destroy_item", "params": {"itemId": "4031012", "quantity": "1"}},
          {"type": "change_job", "params": {"jobId": "520"}}
        ],
        "outcomes": [
          {"conditions": [], "nextState": "secondJobGunslingerWelcome"}
        ]
      }
    },
    {
      "id": "secondJobGunslingerChangeOnly",
      "type": "genericAction",
      "genericAction": {
        "operations": [
          {"type": "change_job", "params": {"jobId": "520"}}
        ],
        "outcomes": [
          {"conditions": [], "nextState": "secondJobGunslingerWelcome"}
        ]
      }
    },
    {
      "id": "secondJobGunslingerWelcome",
      "type": "dialogue",
      "dialogue": {
        "dialogueType": "sendNext",
        "text": "From here on out, you are a #bGunslinger#k. Gunslingers are notable for their long-range attacks with sniper-like accuracy and of course, using Guns as their primary weapon. You should continue training to truly master your skills. If you are having trouble training, I'll be here to help.",
        "choices": [
          {"text": "Next", "nextState": "secondJobGunslingerSkills"},
          {"text": "Exit", "nextState": null}
        ]
      }
    },
    {
      "id": "secondJobGunslingerSkills",
      "type": "dialogue",
      "dialogue": {
        "dialogueType": "sendNextPrev",
        "text": "I have just given you a book that gives you the list of skills you can acquire as a gunslinger. Also your etc inventory has expanded by adding another row to it. Your max HP and MP have increased, too. Go check and see for it yourself.",
        "choices": [
          {"text": "Previous", "nextState": "secondJobGunslingerWelcome"},
          {"text": "Next", "nextState": "secondJobGunslingerSP"},
          {"text": "Exit", "nextState": null}
        ]
      }
    },
    {
      "id": "secondJobGunslingerSP",
      "type": "dialogue",
      "dialogue": {
        "dialogueType": "sendNextPrev",
        "text": "I have also given you a little bit of #bSP#k. Open the #bSkill Menu#k located at the bottom left corner. you'll be able to boost up the newer acquired 2nd level skills. A word of warning, though. You can't boost them up all at once. Some of the skills are only available after you have learned other skills. Make sure yo remember that.",
        "choices": [
          {"text": "Previous", "nextState": "secondJobGunslingerSkills"},
          {"text": "Next", "nextState": "secondJobGunslingerFinal"},
          {"text": "Exit", "nextState": null}
        ]
      }
    },
    {
      "id": "secondJobGunslingerFinal",
      "type": "dialogue",
      "dialogue": {
        "dialogueType": "sendNextPrev",
        "text": "Gunslingers need to be strong. But remember that you can't abuse that power and use it on a weakling. Please use your enormous power the right way, because... for you to use that the right way, that is much harden than just getting stronger. Please find me after you have advanced much further. I'll be waiting for you.",
        "choices": [
          {"text": "Previous", "nextState": "secondJobGunslingerSP"},
          {"text": "Next", "nextState": null},
          {"text": "Exit", "nextState": null}
        ]
      }
    },

    {
      "id": "check3rdJobPhase",
      "type": "genericAction",
      "genericAction": {
        "operations": [],
        "outcomes": [
          {"conditions": [{"type": "questStatus", "operator": "=", "value": "2", "referenceId": "100011"}], "nextState": "check3rdJobItem"},
          {"conditions": [], "nextState": "thirdJobInitialIntro"}
        ]
      }
    },
    {
      "id": "check3rdJobItem",
      "type": "genericAction",
      "genericAction": {
        "operations": [],
        "outcomes": [
          {"conditions": [{"type": "item", "operator": ">=", "value": "1", "referenceId": "4031059"}], "nextState": "thirdJobCompleteIntro"},
          {"conditions": [], "nextState": "thirdJobNeedNecklace"}
        ]
      }
    },
    {
      "id": "thirdJobInitialIntro",
      "type": "dialogue",
      "dialogue": {
        "dialogueType": "sendNext",
        "text": "There you are. A few days ago, #b#p2020013##k of Ossyria talked to me about you. I see that you are interested in making the leap to the world of the third job advancement for pirates. To archieve that goal, I will have to test your strength in order to see whether you are worthy of the advancement. There is an opening in the middle of a cave on Victoria Island, where it'll lead you to a secret passage. Once inside, you'll face a clone of myself. Your task is to defeat him and bring #b#t4031059##k back with you.",
        "choices": [
          {"text": "Next", "nextState": "thirdJobInitialActions"},
          {"text": "Exit", "nextState": null}
        ]
      }
    },
    {
      "id": "thirdJobInitialActions",
      "type": "genericAction",
      "genericAction": {
        "operations": [
          {"type": "complete_quest", "params": {"questId": "100009", "force": "true"}},
          {"type": "start_quest", "params": {"questId": "100011"}}
        ],
        "outcomes": [
          {"conditions": [], "nextState": "thirdJobInitialFollowup"}
        ]
      }
    },
    {
      "id": "thirdJobInitialFollowup",
      "type": "dialogue",
      "dialogue": {
        "dialogueType": "sendNextPrev",
        "text": "Since he is a clone of myself, you can expect a tough battle ahead. He uses a number of special attacking skills unlike any you have ever seen, and it is your task to successfully take him one on one. There is a time limit in the secret passage, so it is crucial that you defeat him within the time limit. I wish you the best of luck, and I hope you bring the #b#t4031059##k with you.",
        "choices": [
          {"text": "Previous", "nextState": "thirdJobInitialIntro"},
          {"text": "Next", "nextState": null},
          {"text": "Exit", "nextState": null}
        ]
      }
    },
    {
      "id": "thirdJobNeedNecklace",
      "type": "dialogue",
      "dialogue": {
        "dialogueType": "sendNext",
        "text": "Please, bring me the #b#t4031059##k.",
        "choices": [
          {"text": "Next", "nextState": null},
          {"text": "Exit", "nextState": null}
        ]
      }
    },
    {
      "id": "thirdJobCompleteIntro",
      "type": "dialogue",
      "dialogue": {
        "dialogueType": "sendNext",
        "text": "Nice work. You have defeated my clone and brought #b#t4031059##k back safely. You have now proven yourself worthy of the 3rd job advancement from the physical standpoint. Now you should give this necklace to #b#p2020013##k in Ossyria to take on the second part of the test. Good luck. You'll need it.",
        "choices": [
          {"text": "Next", "nextState": "thirdJobCompleteActions"},
          {"text": "Exit", "nextState": null}
        ]
      }
    },
    {
      "id": "thirdJobCompleteActions",
      "type": "genericAction",
      "genericAction": {
        "operations": [
          {"type": "complete_quest", "params": {"questId": "100011", "force": "true"}},
          {"type": "destroy_item", "params": {"itemId": "4031059", "quantity": "1"}},
          {"type": "award_item", "params": {"itemId": "4031057", "quantity": "1"}}
        ],
        "outcomes": [
          {"conditions": [], "nextState": null}
        ]
      }
    },

    {
      "id": "defaultMessage",
      "type": "dialogue",
      "dialogue": {
        "dialogueType": "sendOk",
        "text": "You have chosen wisely.",
        "choices": [
          {"text": "Ok", "nextState": null},
          {"text": "Exit", "nextState": null}
        ]
      }
    }
  ]
}
