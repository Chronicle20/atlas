{
  "npcId": 1100004,
  "startState": "askDestination",
  "states": [
    {
      "id": "askDestination",
      "type": "listSelection",
      "listSelection": {
        "title": "Hmm... The winds are favorable. Are you thinking of leaving ereve and going somwhere else? This ferry sails to Orbis on the Ossyria Continent, Have you taking care of everything you needed to in Ereve? If you happen to be headed toward #bOrbis#k i can take you there. What do you day? Are you going to go to Orbis?",
        "choices": [
          {
            "text": "Orbis (1000 mesos)",
            "nextState": "checkMeso"
          },
          {
            "text": "Exit",
            "nextState": null
          }
        ]
      }
    },
    {
      "id": "checkMeso",
      "type": "genericAction",
      "genericAction": {
        "operations": [],
        "outcomes": [
          {
            "conditions": [
              {
                "type": "meso",
                "operator": "<",
                "value": "1000"
              }
            ],
            "nextState": "insufficientMeso"
          },
          {
            "conditions": [],
            "nextState": "deductMeso"
          }
        ]
      }
    },
    {
      "id": "insufficientMeso",
      "type": "dialogue",
      "dialogue": {
        "dialogueType": "sendNext",
        "text": "Hmm... Are you sure you have #b1000#k Mesos? Check your Inventory and make sure you have enough. You must pay the fee or I can't let you get on...",
        "choices": [
          {
            "text": "Next",
            "nextState": null
          },
          {
            "text": "Exit",
            "nextState": null
          }
        ]
      }
    },
    {
      "id": "deductMeso",
      "type": "genericAction",
      "genericAction": {
        "operations": [
          {
            "type": "award_mesos",
            "params": {
              "amount": "-1000"
            }
          }
        ],
        "outcomes": [
          {
            "conditions": [],
            "nextState": "startTransport"
          }
        ]
      }
    },
    {
      "id": "startTransport",
      "type": "transportAction",
      "transportAction": {
        "routeName": "sky-ferry-ereve-to-orbis",
        "failureState": "transportFailed",
        "capacityFullState": "transportCapacityFull",
        "alreadyInTransitState": "transportAlreadyInTransit",
        "routeNotFoundState": "transportFailed",
        "serviceErrorState": "transportFailed"
      }
    },
    {
      "id": "transportFailed",
      "type": "dialogue",
      "dialogue": {
        "dialogueType": "sendOk",
        "text": "Sorry, the ferry service is currently unavailable. Please try again later.",
        "choices": [
          { "text": "Ok", "nextState": null },
          { "text": "Exit", "nextState": null }
        ]
      }
    },
    {
      "id": "transportCapacityFull",
      "type": "dialogue",
      "dialogue": {
        "dialogueType": "sendOk",
        "text": "Sorry, the ferry is currently full. Please wait a moment and try again.",
        "choices": [
          { "text": "Ok", "nextState": null },
          { "text": "Exit", "nextState": null }
        ]
      }
    },
    {
      "id": "transportAlreadyInTransit",
      "type": "dialogue",
      "dialogue": {
        "dialogueType": "sendOk",
        "text": "You seem to already be on a transport. Please wait until you arrive at your destination.",
        "choices": [
          { "text": "Ok", "nextState": null },
          { "text": "Exit", "nextState": null }
        ]
      }
    }
  ]
}
