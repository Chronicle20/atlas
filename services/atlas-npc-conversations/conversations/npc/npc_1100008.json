{
  "npcId": 1100008,
  "startState": "welcome",
  "states": [
    {
      "id": "welcome",
      "type": "listSelection",
      "listSelection": {
        "title": "This ship will head towards #bEreve#k, an island where you'll find crimson leaves soaking up the sun, the gentle breeze that glides past the stream, and the Empress of Maple Cygnus. If you're interested in joining the Cygnus Knights, Then you should definitly pay a visit here. Are you interested in visiting Ereve?, The Trip will cost you #b1000#k Mesos",
        "choices": [
          {
            "text": " Ereve (1000 mesos)",
            "nextState": "checkMesos"
          },
          {
            "text": "Exit",
            "nextState": null
          }
        ]
      }
    },
    {
      "id": "checkMesos",
      "type": "genericAction",
      "genericAction": {
        "operations": [],
        "outcomes": [
          {
            "conditions": [
              {
                "type": "meso",
                "operator": "<",
                "value": "1000"
              }
            ],
            "nextState": "insufficientMesos"
          },
          {
            "conditions": [],
            "nextState": "deductMeso"
          }
        ]
      }
    },
    {
      "id": "insufficientMesos",
      "type": "dialogue",
      "dialogue": {
        "dialogueType": "sendNext",
        "text": "Hmm... Are you sure you have #b1000#k Mesos? Check your Inventory and make sure you have enough. You must pay the fee or I can't let you get on...",
        "choices": [
          {
            "text": "Next",
            "nextState": null
          },
          {
            "text": "Exit",
            "nextState": null
          }
        ]
      }
    },
    {
      "id": "deductMeso",
      "type": "genericAction",
      "genericAction": {
        "operations": [
          {
            "type": "award_mesos",
            "params": {
              "amount": "-1000"
            }
          }
        ],
        "outcomes": [
          {
            "conditions": [],
            "nextState": "startTransport"
          }
        ]
      }
    },
    {
      "id": "startTransport",
      "type": "transportAction",
      "transportAction": {
        "routeName": "sky-ferry-orbis-to-ereve",
        "failureState": "transportFailed",
        "capacityFullState": "transportCapacityFull",
        "alreadyInTransitState": "transportAlreadyInTransit",
        "routeNotFoundState": "transportFailed",
        "serviceErrorState": "transportFailed"
      }
    },
    {
      "id": "transportFailed",
      "type": "dialogue",
      "dialogue": {
        "dialogueType": "sendOk",
        "text": "Sorry, the ferry service is currently unavailable. Please try again later.",
        "choices": [
          { "text": "Ok", "nextState": null },
          { "text": "Exit", "nextState": null }
        ]
      }
    },
    {
      "id": "transportCapacityFull",
      "type": "dialogue",
      "dialogue": {
        "dialogueType": "sendOk",
        "text": "Sorry, the ferry is currently full. Please wait a moment and try again.",
        "choices": [
          { "text": "Ok", "nextState": null },
          { "text": "Exit", "nextState": null }
        ]
      }
    },
    {
      "id": "transportAlreadyInTransit",
      "type": "dialogue",
      "dialogue": {
        "dialogueType": "sendOk",
        "text": "You seem to already be on a transport. Please wait until you arrive at your destination.",
        "choices": [
          { "text": "Ok", "nextState": null },
          { "text": "Exit", "nextState": null }
        ]
      }
    }
  ]
}
