{
  "npcId": 2082003,
  "startState": "askTransform",
  "states": [
    {
      "id": "askTransform",
      "type": "listSelection",
      "listSelection": {
        "title": "If you had wings, I'm sure you could go there.  But, that alone won't be enough.  If you want to fly though the wind that's sharper than a blade, you'll need tough scales as well.  I'm the only Halfling left that knows the way back... If you want to go there, I can transform you.  No matter what you are, for this moment, you will become a #bDragon#k...",
        "choices": [
          {
            "text": "I want to become a dragon.",
            "nextState": "applyBuff"
          },
          {
            "text": "Exit",
            "nextState": null
          }
        ]
      }
    },
    {
      "id": "applyBuff",
      "type": "genericAction",
      "genericAction": {
        "operations": [
          {
            "type": "apply_consumable_effect",
            "params": {
              "itemId": "2210016"
            }
          }
        ],
        "outcomes": [
          {
            "conditions": [],
            "nextState": "startTransport"
          }
        ]
      }
    },
    {
      "id": "startTransport",
      "type": "transportAction",
      "transportAction": {
        "routeName": "temple-of-time-flight",
        "failureState": "transportFailed",
        "capacityFullState": "transportCapacityFull",
        "alreadyInTransitState": "transportAlreadyInTransit",
        "routeNotFoundState": "transportFailed",
        "serviceErrorState": "transportFailed"
      }
    },
    {
      "id": "transportFailed",
      "type": "dialogue",
      "dialogue": {
        "dialogueType": "sendOk",
        "text": "I'm sorry, the flight service is currently unavailable. Please try again later.",
        "choices": [
          { "text": "Ok", "nextState": null },
          { "text": "Exit", "nextState": null }
        ]
      }
    },
    {
      "id": "transportCapacityFull",
      "type": "dialogue",
      "dialogue": {
        "dialogueType": "sendOk",
        "text": "There are too many dragons in the sky right now. Please wait a moment and try again.",
        "choices": [
          { "text": "Ok", "nextState": null },
          { "text": "Exit", "nextState": null }
        ]
      }
    },
    {
      "id": "transportAlreadyInTransit",
      "type": "dialogue",
      "dialogue": {
        "dialogueType": "sendOk",
        "text": "You seem to already be flying. Please wait until you arrive at your destination.",
        "choices": [
          { "text": "Ok", "nextState": null },
          { "text": "Exit", "nextState": null }
        ]
      }
    }
  ]
}
