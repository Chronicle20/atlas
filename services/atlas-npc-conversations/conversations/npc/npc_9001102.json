{
  "npcId": 9001102,
  "startState": "checkMap",
  "states": [
    {
      "id": "checkMap",
      "type": "genericAction",
      "genericAction": {
        "operations": [],
        "outcomes": [
          {
            "conditions": [
              {
                "type": "mapId",
                "operator": "=",
                "value": "100000000"
              }
            ],
            "nextState": "introDialogue"
          },
          {
            "conditions": [],
            "nextState": null
          }
        ]
      }
    },
    {
      "id": "introDialogue",
      "type": "dialogue",
      "dialogue": {
        "dialogueType": "sendNext",
        "text": "There! Did you see that? You didn't? A UFO just passed... there!! Look, someone is getting dragged into the UFO... arrrrrrgh, it's Gaga! #rGaga just got kidnapped by a UFO!#k",
        "choices": [
          {
            "text": "Next",
            "nextState": "checkLevel"
          },
          {
            "text": "Exit",
            "nextState": null
          }
        ]
      }
    },
    {
      "id": "checkLevel",
      "type": "genericAction",
      "genericAction": {
        "operations": [],
        "outcomes": [
          {
            "conditions": [
              {
                "type": "level",
                "operator": ">=",
                "value": "12"
              }
            ],
            "nextState": "askRescue"
          },
          {
            "conditions": [],
            "nextState": "levelTooLow"
          }
        ]
      }
    },
    {
      "id": "askRescue",
      "type": "dialogue",
      "dialogue": {
        "dialogueType": "sendYesNo",
        "text": "What do we do now? It's just a rumor yet, but... I've heard that scary things happen to you if you get kidnapped by aliens... may be that's what happenning to Gaga right now! Please, please rescue Gaga! \r\n #bGaga may be a bit indetermined and clueless, but#k he has a really good heart. I can't let something terrible happen to him. Right! Grandpa from the moon might know how to rescue him! I will send you to the moon, so please go meet Grandpa and rescue Gaga!!!",
        "choices": [
          {
            "text": "Yes",
            "nextState": "thankYou"
          },
          {
            "text": "No",
            "nextState": null
          },
          {
            "text": "Exit",
            "nextState": null
          }
        ]
      }
    },
    {
      "id": "levelTooLow",
      "type": "dialogue",
      "dialogue": {
        "dialogueType": "sendOk",
        "text": "Oh! It seems you don't reach the level requirements to save Gaga. Please come back when you are level 12 or higher.",
        "choices": [
          {
            "text": "Ok",
            "nextState": null
          },
          {
            "text": "Exit",
            "nextState": null
          }
        ]
      }
    },
    {
      "id": "thankYou",
      "type": "dialogue",
      "dialogue": {
        "dialogueType": "sendNext",
        "text": "Thank you so much. Please rescue Gaga! Grandpa from the moon will help you.",
        "choices": [
          {
            "text": "Next",
            "nextState": "warpToMoon"
          },
          {
            "text": "Exit",
            "nextState": null
          }
        ]
      }
    },
    {
      "id": "warpToMoon",
      "type": "genericAction",
      "genericAction": {
        "operations": [
          {
            "type": "warp_to_map",
            "params": {
              "mapId": "922240200",
              "portalId": "0"
            }
          }
        ],
        "outcomes": [
          {
            "conditions": [],
            "nextState": null
          }
        ]
      }
    }
  ]
}
