{
  "npcId": 1032005,
  "startState": "welcome",
  "states": [
    {
      "id": "welcome",
      "type": "dialogue",
      "dialogue": {
        "dialogueType": "sendNext",
        "text": "Hi there! This cab is for VIP customers only. Instead of just taking you to different towns like the regular cabs, we offer a much better service worthy of VIP class. It's a bit pricey, but... for only 10,000 mesos, we'll take you safely to the \r\n#bAnt Tunnel#k.",
        "choices": [
          {
            "text": "Next",
            "nextState": "checkJob"
          },
          {
            "text": "Exit",
            "nextState": null
          }
        ]
      }
    },
    {
      "id": "checkJob",
      "type": "genericAction",
      "genericAction": {
        "operations": [],
        "outcomes": [
          {
            "conditions": [
              {
                "type": "jobId",
                "operator": "=",
                "value": "0"
              }
            ],
            "nextState": "askBeginnerConfirm"
          },
          {
            "conditions": [],
            "nextState": "askRegularConfirm"
          }
        ]
      }
    },
    {
      "id": "askBeginnerConfirm",
      "type": "dialogue",
      "dialogue": {
        "dialogueType": "sendYesNo",
        "text": "We have a special 90% discount for beginners. The Ant Tunnel is located deep inside in the dungeon that's placed at the center of the Victoria Island, where the 24 Hr Mobile Store is. Would you like to go there for #b1,000 mesos#k?",
        "choices": [
          {
            "text": "Yes",
            "nextState": "checkMesosBeginner",
            "context": {
              "cost": "1000"
            }
          },
          {
            "text": "No",
            "nextState": "decline"
          },
          {
            "text": "Exit",
            "nextState": null
          }
        ]
      }
    },
    {
      "id": "askRegularConfirm",
      "type": "dialogue",
      "dialogue": {
        "dialogueType": "sendYesNo",
        "text": "The regular fee applies for all non-beginners. The Ant Tunnel is located deep inside in the dungeon that's placed at the center of the Victoria Island, where 24 Hr Mobile Store is. Would you like to go there for #b10,000 mesos#k?",
        "choices": [
          {
            "text": "Yes",
            "nextState": "checkMesosRegular",
            "context": {
              "cost": "10000"
            }
          },
          {
            "text": "No",
            "nextState": "decline"
          },
          {
            "text": "Exit",
            "nextState": null
          }
        ]
      }
    },
    {
      "id": "decline",
      "type": "dialogue",
      "dialogue": {
        "dialogueType": "sendOk",
        "text": "This town also has a lot to offer. Find us if and when you feel the need to go to the Ant Tunnel Park.",
        "choices": [
          {
            "text": "Ok",
            "nextState": null
          },
          {
            "text": "Exit",
            "nextState": null
          }
        ]
      }
    },
    {
      "id": "checkMesosBeginner",
      "type": "genericAction",
      "genericAction": {
        "operations": [],
        "outcomes": [
          {
            "conditions": [
              {
                "type": "meso",
                "operator": "<",
                "value": "1000"
              }
            ],
            "nextState": "insufficientMesos"
          },
          {
            "conditions": [],
            "nextState": "performWarpBeginner"
          }
        ]
      }
    },
    {
      "id": "checkMesosRegular",
      "type": "genericAction",
      "genericAction": {
        "operations": [],
        "outcomes": [
          {
            "conditions": [
              {
                "type": "meso",
                "operator": "<",
                "value": "10000"
              }
            ],
            "nextState": "insufficientMesos"
          },
          {
            "conditions": [],
            "nextState": "performWarpRegular"
          }
        ]
      }
    },
    {
      "id": "insufficientMesos",
      "type": "dialogue",
      "dialogue": {
        "dialogueType": "sendNext",
        "text": "It looks like you don't have enough mesos. Sorry but you won't be able to use this without it.",
        "choices": [
          {
            "text": "Next",
            "nextState": null
          },
          {
            "text": "Exit",
            "nextState": null
          }
        ]
      }
    },
    {
      "id": "performWarpBeginner",
      "type": "genericAction",
      "genericAction": {
        "operations": [
          {
            "type": "award_mesos",
            "params": {
              "amount": "-1000"
            }
          },
          {
            "type": "warp_to_map",
            "params": {
              "mapId": "105070001",
              "portalId": "0"
            }
          }
        ],
        "outcomes": [
          {
            "conditions": [],
            "nextState": null
          }
        ]
      }
    },
    {
      "id": "performWarpRegular",
      "type": "genericAction",
      "genericAction": {
        "operations": [
          {
            "type": "award_mesos",
            "params": {
              "amount": "-10000"
            }
          },
          {
            "type": "warp_to_map",
            "params": {
              "mapId": "105070001",
              "portalId": "0"
            }
          }
        ],
        "outcomes": [
          {
            "conditions": [],
            "nextState": null
          }
        ]
      }
    }
  ]
}
