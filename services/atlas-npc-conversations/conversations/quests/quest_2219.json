{
  "questId": 2219,
  "questName": "Subquest 4 of 4 (Magic Powder)",
  "startStateMachine": {
    "startState": "intro",
    "states": [
      {
        "id": "intro",
        "type": "dialogue",
        "dialogue": {
          "dialogueType": "sendNext",
          "text": "Did you know, they say someone from the sewers has been trying to #rdevelop a magic powder that let's one to grow#k, isn't that nice?",
          "choices": [
            {"text": "Next", "nextState": "completeQuestAndReward"},
            {"text": "Exit", "nextState": null}
          ]
        }
      },
      {
        "id": "completeQuestAndReward",
        "type": "genericAction",
        "genericAction": {
          "operations": [
            {"type": "complete_quest", "params": {"force": "true"}},
            {"type": "award_exp", "params": {"amount": "7000"}}
          ],
          "outcomes": [
            {"conditions": [], "nextState": "checkAllSubquests"}
          ]
        }
      },
      {
        "id": "checkAllSubquests",
        "type": "genericAction",
        "genericAction": {
          "operations": [],
          "outcomes": [
            {
              "conditions": [
                {"type": "questStatus", "operator": "=", "value": "3", "referenceId": "2216"},
                {"type": "questStatus", "operator": "=", "value": "3", "referenceId": "2217"},
                {"type": "questStatus", "operator": "=", "value": "3", "referenceId": "2218"},
                {"type": "questStatus", "operator": "=", "value": "3", "referenceId": "2219"},
                {"type": "item", "operator": ">=", "value": "1", "referenceId": "4031894"}
              ],
              "nextState": "removeItem"
            },
            {
              "conditions": [],
              "nextState": null
            }
          ]
        }
      },
      {
        "id": "removeItem",
        "type": "genericAction",
        "genericAction": {
          "operations": [
            {"type": "destroy_item", "params": {"itemId": "4031894", "quantity": "1"}}
          ],
          "outcomes": [
            {"conditions": [], "nextState": null}
          ]
        }
      }
    ]
  }
}
