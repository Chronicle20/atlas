{
  "questId": 8227,
  "questName": "Lost in Translation",
  "startStateMachine": {
    "startState": "askAccept",
    "states": [
      {
        "id": "askAccept",
        "type": "dialogue",
        "dialogue": {
          "dialogueType": "sendAcceptDecline",
          "text": "Hey buddy! Nice timing. There is this communique I've been able to swipe from the officials at the Keep, however it's information is encrypted. I have no use for this as it is like this. So, will you transport this to John and see if he can decode this?",
          "choices": [
            {"text": "Accept", "nextState": "checkInventory"},
            {"text": "Decline", "nextState": "declined"},
            {"text": "Exit", "nextState": null}
          ]
        }
      },
      {
        "id": "declined",
        "type": "dialogue",
        "dialogue": {
          "dialogueType": "sendOk",
          "text": "Come on, the city really needs you cooperating on this one!",
          "choices": [
            {"text": "Ok", "nextState": null},
            {"text": "Exit", "nextState": null}
          ]
        }
      },
      {
        "id": "checkInventory",
        "type": "genericAction",
        "genericAction": {
          "operations": [],
          "outcomes": [
            {
              "conditions": [
                {"type": "inventorySpace", "operator": ">=", "value": "1", "referenceId": "4032032"}
              ],
              "nextState": "giveItem"
            },
            {
              "conditions": [],
              "nextState": "noSpace"
            }
          ]
        }
      },
      {
        "id": "giveItem",
        "type": "genericAction",
        "genericAction": {
          "operations": [
            {"type": "award_item", "params": {"itemId": "4032032", "quantity": "1"}},
            {"type": "start_quest", "params": {}}
          ],
          "outcomes": [
            {"conditions": [], "nextState": "confirmStart"}
          ]
        }
      },
      {
        "id": "confirmStart",
        "type": "dialogue",
        "dialogue": {
          "dialogueType": "sendOk",
          "text": "Very well, I'm counting on you on this one.",
          "choices": [
            {"text": "Ok", "nextState": null},
            {"text": "Exit", "nextState": null}
          ]
        }
      },
      {
        "id": "noSpace",
        "type": "dialogue",
        "dialogue": {
          "dialogueType": "sendOk",
          "text": "Hey. There's no slot on your ETC.",
          "choices": [
            {"text": "Ok", "nextState": null},
            {"text": "Exit", "nextState": null}
          ]
        }
      }
    ]
  },
  "endStateMachine": {
    "startState": "checkItem",
    "states": [
      {
        "id": "checkItem",
        "type": "genericAction",
        "genericAction": {
          "operations": [],
          "outcomes": [
            {
              "conditions": [
                {"type": "item", "operator": ">=", "value": "1", "referenceId": "4032032"}
              ],
              "nextState": "completeQuest"
            },
            {
              "conditions": [],
              "nextState": "missingItem"
            }
          ]
        }
      },
      {
        "id": "completeQuest",
        "type": "genericAction",
        "genericAction": {
          "operations": [
            {"type": "destroy_item", "params": {"itemId": "4032032", "quantity": "1"}},
            {"type": "complete_quest", "params": {}}
          ],
          "outcomes": [
            {"conditions": [], "nextState": "confirmComplete"}
          ]
        }
      },
      {
        "id": "confirmComplete",
        "type": "dialogue",
        "dialogue": {
          "dialogueType": "sendOk",
          "text": "Oh you brought a letter from the Keep?! Neat! Let me check if I can decode that right now.",
          "choices": [
            {"text": "Ok", "nextState": null},
            {"text": "Exit", "nextState": null}
          ]
        }
      },
      {
        "id": "missingItem",
        "type": "dialogue",
        "dialogue": {
          "dialogueType": "sendOk",
          "text": "You don't brought the coded letter Jack said? Come on, kid, we need that to decipher our enemies' next step!",
          "choices": [
            {"text": "Ok", "nextState": null},
            {"text": "Exit", "nextState": null}
          ]
        }
      }
    ]
  }
}
